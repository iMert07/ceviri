<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Çeviri</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans&subset=greek&display=swap" rel="stylesheet" />

<style>
  body {
    font-family: 'Noto Sans', Arial, sans-serif;
    text-align: center;
    background: #eef;
    overflow-x: hidden;
    margin: 0;
  }
  h1 {
    margin-top: 20px;
  }

  .container {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 20px auto;
    flex-wrap: wrap;
    max-width: 900px;
    padding: 0 10px;
    box-sizing: border-box;
  }

  textarea {
    width: 45%;
    max-width: 430px;
    height: 120px;
    font-size: 20px;
    padding: 10px;
    box-sizing: border-box;
    font-family: 'Noto Sans', Arial, sans-serif;
  }

  .keyboard {
    width: 600px; /* Sabit genişlik verdim, tüm satırlar aynı genişlikte */
    margin: 30px auto;
    box-sizing: border-box;
  }

  .row {
    display: flex;
    justify-content: space-between; /* Satırlar tam genişlikte boşluk dağıtıyor */
    gap: 0; /* Gap kaldırdım çünkü space-between var */
    margin-bottom: 8px;
  }

  .key {
    flex-shrink: 0; /* Kısalma yok, sabit kalacak */
    height: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #7bb;
    cursor: pointer;
    font-size: 20px;
    border-radius: 5px;
    user-select: none;
    font-family: 'Noto Sans', Arial, sans-serif;
    box-sizing: border-box;
    color: white;
    /* Hepsinin genişliği satır bazında ayarlanacak aşağıda */
  }

  /* 1. satır 12 tuş var, hepsi eşit genişlik */
  .row:nth-child(1) .key {
    width: 46px; /* (600px - boşluklar) / 12 tuş yaklaşık */
  }

  /* 2. satır 12 tuş */
  .row:nth-child(2) .key {
    width: 46px;
  }

  /* 3. satır 12 tuş */
  .row:nth-child(3) .key {
    width: 46px;
  }

  /* 4. satır 10 tuş ama 2 tane geniş tuş var (shift, delete) */
  .row:nth-child(4) .key {
    height: 50px;
    background: #589;
    color: white;
  }
  .row:nth-child(4) .key[data-action="shift"],
  .row:nth-child(4) .key[data-action="delete"] {
    width: 90px; /* geniş tuşlar */
  }
  /* Geri kalan 8 tuş normal */
  .row:nth-child(4) .key:not([data-action]) {
    width: 40px;
  }

  /* 5. satır 3 tuş, caps ve enter geniş, space çok geniş */
  .row:nth-child(5) {
    justify-content: space-between;
  }
  .row:nth-child(5) .key[data-action="caps"],
  .row:nth-child(5) .key[data-action="enter"] {
    width: 90px;
    background: #589;
    color: white;
    height: 50px;
  }
  .row:nth-child(5) .key[data-action="space"] {
    width: 300px;
    background: #456;
    color: white;
    height: 50px;
  }

  .key:active {
    background: #599;
  }

  /* Responsive mobil ayarları */
  @media (max-width: 768px) {
    .container {
      flex-direction: column;
      align-items: center;
      margin-bottom: 220px;
      max-width: 100%;
      padding: 0 15px;
    }
    textarea {
      width: 100%;
      max-width: none;
    }
    .keyboard {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      max-width: none;
      background: #eef;
      padding: 10px 12px;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      box-sizing: border-box;
    }
    .row {
      justify-content: space-between;
      gap: 0;
      margin-bottom: 8px;
    }
    .key {
      height: 40px;
      font-size: 16px;
      flex-shrink: 0;
      color: white;
    }
    /* Her satır genişlik ve tuş genişliklerini mobilde yeniden ayarla */
    .row:nth-child(1) .key,
    .row:nth-child(2) .key,
    .row:nth-child(3) .key {
      width: calc((100% - 11 * 4px) / 12);
      min-width: 20px;
    }
    .row:nth-child(4) .key[data-action="shift"],
    .row:nth-child(4) .key[data-action="delete"],
    .row:nth-child(5) .key[data-action="caps"],
    .row:nth-child(5) .key[data-action="enter"] {
      width: 60px;
    }
    .row:nth-child(4) .key:not([data-action]),
    .row:nth-child(5) .key[data-action="space"] {
      width: auto;
      flex-grow: 1;
    }
  }
</style>
</head>
<body>

<h1>Rum Dili Klavyesi</h1>

<div class="container">
  <textarea id="latin" placeholder="Latin..."></textarea>
  <textarea id="greek" placeholder="Yunan..."></textarea>
</div>

<div class="keyboard">
  <div class="row">
    <div class="key">θ</div><div class="key">1</div><div class="key">2</div><div class="key">3</div>
    <div class="key">4</div><div class="key">5</div><div class="key">6</div><div class="key">7</div>
    <div class="key">8</div><div class="key">9</div><div class="key">Φ</div><div class="key">Λ</div>
  </div>

  <div class="row">
    <div class="key">Þ</div><div class="key">V</div><div class="key">H</div><div class="key">U</div>
    <div class="key">Y</div><div class="key">G</div><div class="key">F</div><div class="key">Σ</div>
    <div class="key">M</div><div class="key">K</div><div class="key">J</div><div class="key">Ψ</div>
  </div>

  <div class="row">
    <div class="key">,</div><div class="key">E</div><div class="key">A</div><div class="key">Ͱ</div>
    <div class="key">Ь</div><div class="key">Ш</div><div class="key">R</div><div class="key">L</div>
    <div class="key">N</div><div class="key">P</div><div class="key">D</div><div class="key">.</div>
  </div>

  <div class="row">
    <div class="key wide" data-action="shift">Shift</div><div class="key">Π</div><div class="key">Ω</div>
    <div class="key">Ϙ</div><div class="key">C</div><div class="key">Z</div><div class="key">Γ</div>
    <div class="key">T</div><div class="key">B</div><div class="key wide" data-action="delete">Delete</div>
  </div>

  <div class="row">
    <div class="key wide" data-action="caps">Caps</div>
    <div class="key extra-wide" data-action="space">Space</div>
    <div class="key wide" data-action="enter">Enter</div>
  </div>
</div>

<script>
  const latin = document.getElementById('latin');
  const greek = document.getElementById('greek');
  let activeInput = latin;

  const toGreek = {
    "a":"Α","A":"Α",
    "e":"Ε","E":"Ε",
    "i":"Ͱ","İ":"Ͱ",
    "n":"Ν","N":"Ν",
    "r":"Ρ","R":"Ρ",
    "l":"L","L":"L",
    "ı":"Ь","I":"Ь",
    "k":"Κ","K":"K",
    "d":"D","D":"D",
    "m":"Μ","M":"Μ",
    "t":"Τ","T":"Τ",
    "y":"J","Y":"J",
    "s":"Σ","S":"Σ",
    "u":"Υ","U":"Υ",
    "o":"Ϙ","O":"Ϙ",
    "b":"Β","B":"Β",
    "ş":"Ш","Ş":"Ш",
    "ü":"U","Ü":"U",
    "z":"Ζ","Z":"Ζ",
    "g":"Γ","G":"Γ",
    "ç":"C","Ç":"C",
    "ğ":"R","Ğ":"R",
    "v":"F","V":"F",
    "c":"G","C":"G",
    "h":"Η","H":"Η",
    "p":"Π","P":"Π",
    "ö":"Ω","Ö":"Ω",
    "f":"V","F":"V",
    "x":"Ψ","X":"Ψ",
    "j":"Ϸ","J":"Ϸ"
  };

  const toLatin = Object.fromEntries(Object.entries(toGreek).map(([k,v])=>[v,k.toUpperCase()]));

  function translate(text, dir){
    const map = dir==="toGreek" ? toGreek : toLatin;
    return text.split('').map(ch=> map[ch] || ch ).join('');
  }

  latin.addEventListener('input', ()=>{ greek.value = translate(latin.value, "toGreek"); });
  greek.addEventListener('input', ()=>{ latin.value = translate(greek.value, "toLatin"); });

  latin.addEventListener('focus', ()=>activeInput = latin);
  greek.addEventListener('focus', ()=>activeInput = greek);

  document.querySelectorAll('.key').forEach(key => {
    key.addEventListener('click', () => {
      const action = key.dataset.action;
      if(action === 'delete') {
        activeInput.value = activeInput.value.slice(0,-1);
      } else if(action === 'enter') {
        activeInput.value += '\n';
      } else if(action === 'space') {
        activeInput.value += ' ';
      } else {
        activeInput.value += key.innerText;
      }

      if(activeInput === latin){
        greek.value = translate(latin.value, "toGreek");
      } else {
        latin.value = translate(greek.value, "toLatin");
      }
    });
  });
</script>

</body>
</html>
